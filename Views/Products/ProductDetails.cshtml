@model Petstore_GroupProject8.Models.Product

@{
    ViewData["Title"] = "Product Details";
}

<div class="container mt-5">

    <!-- Breadcrumb -->
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/products/">Products</a></li>
            <li class="breadcrumb-item"><a href="/products/@Model.Category.CategoryName">@Model.Category.CategoryName</a></li>
            <li class="breadcrumb-item active" aria-current="page">@Model.Name</li>
        </ol>
    </nav>

    <div class="row">
        <div class="col-md-6 d-flex justify-content-center align-items-center" style="height: 100%;">
            <div class="position-relative" style="width: 100%;">

                <button id="favoriteButton" type="button" class="btn btn-outline-secondary position-absolute top-0 start-0 m-2" onclick="toggleFavorite()">
                    <i class="bi bi-heart"></i>
                </button>
                <img src="@Url.Content("~/img/products/" + Model.ImageUrl)" class="img-fluid w-100" alt="@Model.Name" style="max-height: 400px; object-fit: contain;" />
            </div>
        </div>


        <div class="col-md-6">
            <h2>@Model.Name</h2>
            <span class="badge bg-success">@Model.Category.CategoryName</span>
            <h3 class="mt-3">$@Model.Price</h3>
            <p>@Model.Description</p>

            <form asp-controller="Products" asp-action="AddToCart" method="post">

                <div class="d-flex flex-row mb-3">
                    <div class="me-3">
                        <label for="stockInput" class="form-label">Stock</label>
                        <input type="text" id="stockInput" class="form-control" value="@Model.StockQuantity" readonly  />
                    </div>
                    <div class="me-3"><input type="hidden" name="productId" value="@Model.ProductId" />
                        <label for="quantity" class="form-label">Qty</label>
                        <select id="quantity" name="quantity" class="form-control">
                            @for (int i = 1; i <= 10; i++)
                            {
                                <option value="@i">@i</option>
                            }
                        </select>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary w-100 mb-3">Add to Cart</button>
            </form>
            
        </div>
    </div>
</div>
<br />
<br />